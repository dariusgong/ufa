define("taurus/tree/3.5.02/tree.exhide",[],function(e){return function(e){(function(e){var t=function(e,t,n,r,i,s,o){typeof n.isHidden=="string"&&(n.isHidden=a.eqs(n.isHidden,"true")),n.isHidden=!!n.isHidden,c.initHideForExCheck(e,n)},n=function(e,t,n){},r=function(e,t){t.showNodes=function(t,n){l.showNodes(e,t,n)},t.showNode=function(t,n){if(!t)return;l.showNodes(e,[t],n)},t.hideNodes=function(t,n){l.hideNodes(e,t,n)},t.hideNode=function(t,n){if(!t)return;l.hideNodes(e,[t],n)};var n=t.checkNode;n&&(t.checkNode=function(e,r,i,s){if(!!e&&!!e.isHidden)return;n.apply(t,arguments)})},i={initHideForExCheck:function(e,t){t.isHidden&&e.check&&e.check.enable&&(typeof t._nocheck=="undefined"&&(t._nocheck=!!t.nocheck,t.nocheck=!0),t.check_Child_State=-1,l.repairParentChkClassWithSelf&&l.repairParentChkClassWithSelf(e,t))},initShowForExCheck:function(t,n){if(!n.isHidden&&t.check&&t.check.enable){typeof n._nocheck!="undefined"&&(n.nocheck=n._nocheck,delete n._nocheck);if(l.setChkClass){var r=e("#"+n.tId+f.id.CHECK);l.setChkClass(t,r,n)}l.repairParentChkClassWithSelf&&l.repairParentChkClassWithSelf(t,n)}}},s={clearOldFirstNode:function(e,t){var n=t.getNextNode();while(!!n){if(n.isFirstNode){n.isFirstNode=!1,l.setNodeLineIcos(e,n);break}if(n.isLastNode)break;n=n.getNextNode()}},clearOldLastNode:function(e,t){var n=t.getPreNode();while(!!n){if(n.isLastNode){n.isLastNode=!1,l.setNodeLineIcos(e,n);break}if(n.isFirstNode)break;n=n.getPreNode()}},makeDOMNodeMainBefore:function(e,t,n){e.push("<li ",n.isHidden?"style='display:none;' ":"","id='",n.tId,"' class='level",n.level,"' tabindex='0' hidefocus='true' treenode>")},showNode:function(t,n,r){n.isHidden=!1,c.initShowForExCheck(t,n),e("#"+n.tId).show()},showNodes:function(e,t,n){if(!t||t.length==0)return;var r={},i,s;for(i=0,s=t.length;i<s;i++){var o=t[i];if(!r[o.parentTId]){var u=o.getParentNode();r[o.parentTId]=u===null?c.getRoot(e):o.getParentNode()}l.showNode(e,o,n)}for(var a in r){var f=r[a][e.data.key.children];l.setFirstNodeForShow(e,f),l.setLastNodeForShow(e,f)}},hideNode:function(t,n,r){n.isHidden=!0,n.isFirstNode=!1,n.isLastNode=!1,c.initHideForExCheck(t,n),l.cancelPreSelectedNode(t,n),e("#"+n.tId).hide()},hideNodes:function(e,t,n){if(!t||t.length==0)return;var r={},i,s;for(i=0,s=t.length;i<s;i++){var o=t[i];if((o.isFirstNode||o.isLastNode)&&!r[o.parentTId]){var u=o.getParentNode();r[o.parentTId]=u===null?c.getRoot(e):o.getParentNode()}l.hideNode(e,o,n)}for(var a in r){var f=r[a][e.data.key.children];l.setFirstNodeForHide(e,f),l.setLastNodeForHide(e,f)}},setFirstNode:function(e,t){var n=e.data.key.children,r=t[n].length;r>0&&!t[n][0].isHidden?t[n][0].isFirstNode=!0:r>0&&l.setFirstNodeForHide(e,t[n])},setLastNode:function(e,t){var n=e.data.key.children,r=t[n].length;r>0&&!t[n][0].isHidden?t[n][r-1].isLastNode=!0:r>0&&l.setLastNodeForHide(e,t[n])},setFirstNodeForHide:function(e,t){var n,r,i;for(r=0,i=t.length;r<i;r++){n=t[r];if(n.isFirstNode)break;if(!n.isHidden&&!n.isFirstNode){n.isFirstNode=!0,l.setNodeLineIcos(e,n);break}n=null}return n},setFirstNodeForShow:function(e,t){var n,r,i,s,o;for(r=0,i=t.length;r<i;r++){n=t[r];if(!s&&!n.isHidden&&n.isFirstNode){s=n;break}if(!s&&!n.isHidden&&!n.isFirstNode)n.isFirstNode=!0,s=n,l.setNodeLineIcos(e,n);else{if(s&&n.isFirstNode){n.isFirstNode=!1,o=n,l.setNodeLineIcos(e,n);break}n=null}}return{"new":s,old:o}},setLastNodeForHide:function(e,t){var n,r;for(r=t.length-1;r>=0;r--){n=t[r];if(n.isLastNode)break;if(!n.isHidden&&!n.isLastNode){n.isLastNode=!0,l.setNodeLineIcos(e,n);break}n=null}return n},setLastNodeForShow:function(e,t){var n,r,i,s,o;for(r=t.length-1;r>=0;r--){n=t[r];if(!s&&!n.isHidden&&n.isLastNode){s=n;break}if(!s&&!n.isHidden&&!n.isLastNode)n.isLastNode=!0,s=n,l.setNodeLineIcos(e,n);else{if(s&&n.isLastNode){n.isLastNode=!1,o=n,l.setNodeLineIcos(e,n);break}n=null}}return{"new":s,old:o}}},o={view:s,data:i};e.extend(!0,e.fn.zTree._z,o);var u=e.fn.zTree,a=u._z.tools,f=u.consts,l=u._z.view,c=u._z.data,h=u._z.event;c.addInitNode(t),c.addBeforeA(n),c.addZTreeTools(r);var p=c.initNode;c.tmpHideParent=-1,c.initNode=function(e,t,n,r,i,s,o){if(c.tmpHideParent!==r){c.tmpHideParent=r;var u=r?r:c.getRoot(e),a=u[e.data.key.children];c.tmpHideFirstNode=l.setFirstNodeForHide(e,a),c.tmpHideLastNode=l.setLastNodeForHide(e,a),l.setNodeLineIcos(e,c.tmpHideFirstNode),l.setNodeLineIcos(e,c.tmpHideLastNode)}i=c.tmpHideFirstNode===n,s=c.tmpHideLastNode===n,p&&p.apply(c,arguments),s&&l.clearOldLastNode(e,n)};var d=c.makeChkFlag;!d||(c.makeChkFlag=function(e,t){if(!!t&&!!t.isHidden)return;d.apply(c,arguments)});var v=c.getTreeCheckedNodes;!v||(c.getTreeCheckedNodes=function(e,t,n,r){if(!!t&&t.length>0){var i=t[0].getParentNode();if(!!i&&!!i.isHidden)return[]}return v.apply(c,arguments)});var m=c.getTreeChangeCheckedNodes;!m||(c.getTreeChangeCheckedNodes=function(e,t,n){if(!!t&&t.length>0){var r=t[0].getParentNode();if(!!r&&!!r.isHidden)return[]}return m.apply(c,arguments)});var g=l.expandCollapseSonNode;!g||(l.expandCollapseSonNode=function(e,t,n,r,i){if(!!t&&!!t.isHidden)return;g.apply(l,arguments)});var y=l.setSonNodeCheckBox;!y||(l.setSonNodeCheckBox=function(e,t,n,r){if(!!t&&!!t.isHidden)return;y.apply(l,arguments)});var b=l.repairParentChkClassWithSelf;!b||(l.repairParentChkClassWithSelf=function(e,t){if(!!t&&!!t.isHidden)return;b.apply(l,arguments)})})(jQuery)}});